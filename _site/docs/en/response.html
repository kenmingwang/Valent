<!DOCTYPE html>
<html lang=" zh-CN ">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Personal Space Game</title>
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/static/icon.png">
    <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.12.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5e158f966719b70012374cbf&product=inline-follow-buttons" async="async"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
</head>

<body class="sideNavVisible">
  <div class="fixedHeaderContainer">
  <div class="headerWrapper wrapper">
    <header>
      <a href="/">
        <img class="logo" src="/static/icon.png">
        <h2 class="headerTitle">Personal Space</h2>
      </a>
      <div class="navigationWrapper navigationSlider">
        <nav class="slidingNav">
          <ul class="nav-site nav-site-internal">
            <li>
              <a href="" target="">
                Common Issues
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
  </div>
</div>
  <div class="navPusher">
    <div class="docMainWrapper wrapper">
      <div class="container docsNavContainer" id="docsNav">
        <nav class="toc">
          <div class="toggleNav">
            <section class="navWrapper wrapper">
              <div class="navBreadcrumb wrapper">
                <div class="navToggle" id="navToggler">
                  <i></i>
                </div>
                <h2>
                  <i>›</i>
                  <span>HTTP Response</span>
                </h2>
              </div>
              <div class="navGroups">

                

                
                <div class="navGroup navGroupActive">
                  <h3>Introduction</h3>
                  <ul>
                    
                    <li class="navListItem">
                      <a class="navItem" href="why-blade.html">Why Blade?</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="blade-design.html">Blade Design</a>
                    </li>
                    
                  </ul>
                </div>
                
                <div class="navGroup navGroupActive">
                  <h3>Quick Start</h3>
                  <ul>
                    
                    <li class="navListItem">
                      <a class="navItem" href="create-application.html">Create Application</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="create-route.html">Create Route</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="add-static-file.html">Add Static File</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="render-view.html">Render View</a>
                    </li>
                    
                  </ul>
                </div>
                
                <div class="navGroup navGroupActive">
                  <h3>Guide</h3>
                  <ul>
                    
                    <li class="navListItem">
                      <a class="navItem" href="installation.html">Installation</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="component.html">Component</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="route.html">Route</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="route-context.html">Route Context</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="request.html">HTTP Request</a>
                    </li>
                    
                    <li class="navListItem navItemActive">
                      <a class="navItem navItemActive" href="response.html">HTTP Response</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="webhook.html">WebHook</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="configuration.html">Configuration</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="templates.html">Template</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="logging.html">Logging</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="package-deploy.html">Package Deploy</a>
                    </li>
                    
                  </ul>
                </div>
                
                <div class="navGroup navGroupActive">
                  <h3>Advance</h3>
                  <ul>
                    
                    <li class="navListItem">
                      <a class="navItem" href="exception.html">Exception</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="schedule.html">Schedule Task</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="error-page.html">Error Page</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="listen-event.html">Listen Event</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="session-ext.html">Session Extension</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="custom-middleware.html">Custom Middleware</a>
                    </li>
                    
                    <li class="navListItem">
                      <a class="navItem" href="cli-args.html">Terminal Params</a>
                    </li>
                    
                  </ul>
                </div>
                
              </div>
            </section>
          </div>
          <script>
            var toggler = document.getElementById('navToggler');
            var nav = document.getElementById('docsNav');
            toggler.onclick = function () {
              nav.classList.toggle('docsSliderActive');
            };
          </script>
        </nav>
      </div>
      <div class="container mainContainer">
        <div class="wrapper">
          <div class="post">
            <header class="postHeader">
              <a class="edit-page-link button" href="https://github.com/lets-blade/lets-blade.github.io/edit/master/docs/en/response.md"
                target="_blank">
                Edit Page
              </a>
              <h1>HTTP Response</h1>
            </header>
            <article>
              <div>
                <p>
                  <p>The object of the operation response in Blade is <code class="highlighter-rouge">Response</code></p>

<h2 id="send-text">Send text</h2>

<p><code class="highlighter-rouge">Response#text</code> is used to send a text response with a status code of 200.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseText</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">text</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="send-html">Send HTML</h2>

<p><code class="highlighter-rouge">Response#html</code> is used to send a html response with a status code of 200.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseHTML</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">html</span><span class="o">(</span><span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="send-xml">Send XML</h2>

<p><code class="highlighter-rouge">Response#xml</code> is used to send a xml response with a status code of 200, just modified the response <code class="highlighter-rouge">ContentType</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseXML</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">xml</span><span class="o">(</span><span class="s">"&lt;Msg&gt;OK!&lt;/Msg&gt;"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="send-json">Send JSON</h2>

<p><code class="highlighter-rouge">Response#json</code> is used to send a json response with a status code of 200.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseJSON</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="s">"{\"status\": 200}"</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseJSON</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="s">"biezhi"</span><span class="o">,</span> <span class="s">"biezhi.me@gmail.com"</span><span class="o">);</span>
    <span class="n">response</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="download-file">Download File</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">responseFile</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">download</span><span class="o">(</span><span class="s">"a.txt"</span><span class="o">,</span> <span class="s">"/data/wwwroot/hello.txt"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="render-template">Render template</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">renderUsers</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">){</span>
    <span class="n">response</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="s">"admin/users.html"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="write-cookie">Write Cookie</h2>

<p>Cookies are a common technique used in our web development and are often used for operations such as <code class="highlighter-rouge">remember me</code> Writing a cookie to a browser in a Blade is also done using the Response object.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span><span class="o">.</span><span class="na">cookie</span><span class="o">(</span><span class="s">"c1"</span><span class="o">,</span> <span class="s">"value1"</span><span class="o">);</span>
</code></pre></div></div>

<p>This writes a cookie data that never expires under the current domain, with the name c1 data as value1. You can see it by opening the browser’s developer tools.</p>

<p>Of course, the above is to write the simplest cookie, but many times we need to customize, this time you can look at the cookie related API in the Response object.</p>

<ul>
  <li><code class="highlighter-rouge">Response removeCookie(String name)</code></li>
  <li><code class="highlighter-rouge">Response cookie(Cookie cookie)</code></li>
  <li><code class="highlighter-rouge">Response cookie(String name, String value)</code></li>
  <li><code class="highlighter-rouge">Response cookie(String name, String value, int maxAge)</code></li>
  <li><code class="highlighter-rouge">Response cookie(String name, String value, int maxAge, boolean secured)</code></li>
  <li><code class="highlighter-rouge">Response cookie(String path, String name, String value, int maxAge, boolean secured)</code></li>
</ul>

<p>Quite a lot, one is longer than one. . Yes, seeing these APIs is probably clear how to use them.
The first is to remove a cookie, followed by a method of writing a cookie. Specific explanations can be seen in the source comments.</p>

<h2 id="redirect">Redirect</h2>

<p>Sometimes we will want to redirect to another page after doing an operation. In HTTP, the 302 status code is actually dry. For example, after logging in, the background directly jumps to the page where the login is successful.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@PostRoute</span><span class="o">(</span><span class="s">"login"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">doLogin</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">redirect</span><span class="o">(</span><span class="s">"/index"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Can also be redirected to an external site</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@GetRoute</span><span class="o">(</span><span class="s">"github"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">showGithub</span><span class="o">(</span><span class="n">Response</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">redirect</span><span class="o">(</span><span class="s">"https://github.com/biezhi"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="other">Other</h2>

<p>There are some other less common operations in Response, let’s take a look at its API.</p>

<ul>
  <li><code class="highlighter-rouge">Response status(int status)</code></li>
  <li><code class="highlighter-rouge">Response notFound()</code></li>
  <li><code class="highlighter-rouge">Response contentType(String contentType)</code></li>
  <li><code class="highlighter-rouge">Map&lt;String, String&gt; headers()</code></li>
  <li><code class="highlighter-rouge">Response header(String name, String value)</code></li>
  <li><code class="highlighter-rouge">Map&lt;String, String&gt; cookies()</code></li>
  <li><code class="highlighter-rouge">void body(@NonNull byte[] data)</code></li>
</ul>

<p>More information can be viewed in the <code class="highlighter-rouge">Response</code> interface.</p>

                </p>
              </div>
            </article>
          </div>
          <!-- <div class="docs-prevnext">
            <a class="docs-next button" href="why-prettier.html">Why Prettier? →</a>
          </div> -->
        </div>
      </div>
    </div>
    <script id="twitter-wjs" sync src="https://platform.twitter.com/widgets.js"></script>
<script type="text/javascript" sync src="https://buttons.github.io/buttons.js"></script>

<footer class="footerSection nav-footer" id="footer">
    <section class="sitemap">
        <a href="/" class="nav-home">
            <img src="/static/icon.png" alt="Blade">
        </a>
        <div>
            <h5>Social Media</h5>
            <a href="https://twitter.com/PastelPeaks">@PastelPeaks on Twitter</a>
            <object type="image/svg+xml" data="https://img.shields.io/twitter/follow/PastelPeaks.svg?label=Follow+PastelPeaks&amp;style=social">
                <a href="https://twitter.com/intent/follow?screen_name=PastelPeaks">
                    <img alt="Follow us on Twitter" src="https://img.shields.io/twitter/follow/PastelPeaks.png?label=Follow+PastelPeaks&amp;style=social">
                </a>
            </object>
            <a href="https://www.instagram.com/PersonalSpaceGame/">@PersonalSpaceGame on Instagram</a>
        </div>
        <div>
            <img src="https://d1ggkj0laysj3f.cloudfront.net/wp-content/uploads/2018/10/29154938/GamerU-white-e1540850013969.png" 
            alt="University of Utah Logo"
            style="width: 25%;float: right;">
        </div>
    </section>
</footer>
  </div>
</body>

</html>